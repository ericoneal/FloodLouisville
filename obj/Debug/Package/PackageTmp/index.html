<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Safari iOS - apps only -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <!-- Chrome for Android - NEW! -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="apple-touch-icon" href="../images/brand.png">
    <link rel="shortcut icon" href="../images/favicon.ico">

    <title>Flood Louisville</title>

    <!-- Bootstrap core CSS -->
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/slider.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet">
      <link href="bootstrap/src/css/bootstrap-modal-bs3patch.css" rel="stylesheet" />
  <link href="bootstrap/src/css/bootstrap-modal.css" rel="stylesheet" />


    <!-- Bootstrap-map-js -->
    <link rel="stylesheet" href="http://js.arcgis.com/3.10/js/dojo/dijit/themes/claro/claro.css">
    <link rel="stylesheet" href="http://js.arcgis.com/3.10/js/esri/css/esri.css">
    <link rel="stylesheet" type="text/css" href="bootstrap/src/css/bootstrapmap.css">   

    <style type="text/css">

      #mapDiv {
        min-height: 100%; 
        max-height: 100%; 
      }

       #sl2 {
        width: 190px;
      }
      

    @font-face {
	    font-family: digi;
	    src: url('http://cssdeck.com/uploads/resources/fonts/digii/DS-DIGII.TTF');
    }
  #LevelDIV 
  {
      position: absolute;
      top: 198px;
      left: 10px;
      width:57px;
	  height:60px;
      z-index: 50;
	  cursor:pointer;
	  border-radius: 10px;
	  background-color:#CCC;
	  border-color:#GGG;
	  border-style:solid;
	  font-family: 'digi';
  }     #StageLabel 
  {
      position: absolute;
      top: 199px;
      left: 15px;
      z-index: 51;
  }      


#levelTEXT   
{
    display: table-cell;  
    padding: 20 20px; 
    vertical-align: middle; 
    horizontal-align: middle; 
  
 }

 #divSpinner   
{
    position: absolute;
      top: 204px;
      left: 12px;
      width:57px;
	  height:65px;
      z-index: 52;
 }
 
  #divIncrease
{

   
    border-radius: 10px;
    background-color:#CCC;
    border-color:#GGG;
    border-style:solid;
    position: absolute;
    top: 150px;
    left: 19px;
     
    z-index: 52;
	
 
 }
 
 #mapDiv_zoom_slider
 {
      left: 19px;
 }
 

  #divDecrease
{
    
    border-radius: 10px;
    background-color:#CCC;
    border-color:#GGG;
    border-style:solid;
    position: absolute;
    top: 264px;
    left: 19px;

    z-index: 52;
	
 
 }

   
     
  #sliderFlood .slider-selection {
    background: #2DA7FF;
  }
  
  
 .hov:hover{
   background-color:#808080!important;
}

    </style>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="../bootstrap_v3/docs-assets/js/html5shiv.js"></script>
      <script src="../bootstrap_v3/docs-assets/js/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#"><img class="navbar-brand-image" src="images/seal.gif">Flood Louisville</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li id="About"><a href="#">About</a></li>
            <li class="active dropdown" id="basemapList">
              <a href="" class="dropdown-toggle" data-toggle="dropdown">Set Flood Level<b class="caret"></b></a>
              <ul class="dropdown-menu" id="myDropdown">
                <li>
                 <b>16</b>
                    <input type="text" data-slider-id="sliderFlood" class="span2" value="16" data-slider-min="16" data-slider-max="52" data-slider-step="1"  id="sl2"  data-slider-handle="square">
                    <b>52</b>
                </li>
                  <li class="divider"></li>
                   <li><a id="btnToggleLevees" class="paddingRight" href="#"  onclick="toggleLevee();return false;">Toggle Flood Protection System ON</a></li>
              </ul>
            </li>
         
         <!--   <li class="active dropdown" id="Li1">
              <a href="" class="dropdown-toggle" data-toggle="dropdown">Picture Tour<b class="caret"></b></a>
              <ul class="dropdown-menu" id="Ul1">
                <li><a href="#">1937</a></li>
                <li><a href="#">1997</a></li>
              </ul>
            </li>-->

            <li><a id="CurrentLevels" class="paddingRight" href="#">Current Conditions</a></li>

          </ul>
       
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <!-- Bootstrap-map-js -->
    <div id="mapDiv">
    
       
           <!-- <div id="leveeDIV" class="navBTN_hoverJ">
	           <img id="imgDam" src="images/dam.png" onclick="toggleLevee();" title="Toggle Flood Control System"/>
            </div>-->

        <!--     <div id="buildingsDIV" class="navBTN_hoverJ">
	           <img id="imgBuilding" src="images/building.png" onclick="document.getElementById('imgBuilding').src = 'images/buildingWET.png'"/>
            </div>-->


            <div id="divIncrease" class="hov" onclick="increaseStage();">
	           <img id="imgUp" src="images/up.png" />
            </div>



            <div id="divSpinner" style="display: none;"><img src="images/spinner.gif"></div>



            <div id="StageLabel" >Stage:</div>
                 <div id="LevelDIV" title="Click to enter a value" class="hov" onclick="$('#modalSetStage').modal('show');">
                     <p id="levelTEXT">
	                  <!--  <font id="lblLevel"  size="15" color="red" onclick="increaseStage();" ondblclick="setElevation('14'); $('#sl2').slider('setValue', 14)">14</font>-->
                        <font id="lblLevel"  size="15" color="red" >16</font>
                     </p>
            </div>


            <div id="divDecrease" class="hov" onclick="decreaseStage();">
	           <img id="imgDown" src="images/down.png" />
            </div>


    </div>

   
   

                

     <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
      <script src="http://js.arcgis.com/3.10/"></script>
    <script src="js/floodlouisville.js"></script>
    <script src="js/RasterLayer.js"></script>
    <script src="js/ParcelInfo.js"></script>
    <script src="js/bootstrap-slider.js"></script>


    <script>
        dojo.ready(startMap);

//        $(document).ready(function () {
//            $('a#buildingsDIV').click(function () {
//                // $(this).toggleClass("down");
//                alert("");
//                document.getElementById("img").src = "";
//            });
//        });


        $('#sl2').slider({
//            formater: function (value) {
//                return 'Flood Stage: ' + value;
//            }
        }).on('slide', function (ev) {
            setElevation(ev.value);
        }); 

        $("#CurrentLevels").click(function (e) {
            $("#modalCurrentConditions").modal("show");
        });

        $("#About").click(function (e) {
            $("#modalAbout").modal("show");
        });
    </script>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
   
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <script src="bootstrap/src/js/bootstrap-modalmanager.js"></script>
    <script src="bootstrap/src/js/bootstrap-modal.js"></script>


    <div id="modalCurrentConditions" class="modal fade" tabindex="-1" data-width="640" style="display: none;">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
            <h4 class="modal-title">Current River Levels</h4>
        </div>
        <div class="modal-body">
            <a href='http://water.weather.gov/ahps2/hydrograph.php?wfo=lmk&gage=mluk2&prob_type=stage' target=_blank><img src="http://water.weather.gov/resources/hydrographs/mluk2_hg.png" /></a>
     </div>
    </div>

     <div id="modalAbout" class="modal fade" tabindex="-1" data-width="640" style="display: none;">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
            <h4 class="modal-title">About</h4>
        </div>
        <div class="modal-body">
           <div class="modal-body">This application simulates flood inundation of downtown Louisville, Kentucky using data derived from a model of high precision LIDAR elevation.  The flood stage levels used here represent stages for the Upper McAlpine gauge located on Zorn Avenue and are approximate, although ground truthing during an actual flood event (April 2011), has proven that flood stage represented here near the river itself to be accurate.  <br>
Louisville, being located on the river, has constructed a complex system of levees and flood gates to mitigate high water levels, prompted by the catastrophic flood of 1937. There have been many floods since then, but with minimal damage due to the flood protection system.  This application's purpose is to predict inundation areas during times of flooding, demonstrate visually the impact of large scale flooding, and the damage that would result.<br>
This application's flood stage ends at 52, which is the highest level recorded for the city. Official flood action measures for the city begins at stage 21

           <center> <img src="images/about2.png" style="width: 540px"/> </center>
           Click a parcel while zoomed in close to retrieve PVA property values.
     </div>
    </div>



   <div id="modalSetStage" class="modal fade" tabindex="-1" data-width="640" style="display: none;">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
            <h4 class="modal-title">Set River Stage</h4>
        </div>
        <div class="modal-body">
               <div class="modal-body">
               Enter a stage between 16 and 52:<br />
                <input class="form-control form-inline" style="display: inline-block; width:210px; margin-right: 5px;" id="txtSetStage" type="number" value="" min="16" max="52"></input>
                <button class="btn btn-primary" id="btnSet" onclick="var stage = $('#txtSetStage').val();if((stage > 52) || (stage < 16)){return;}setElevation(stage);$('#sl2').slider('setValue', stage);$('#txtSetStage').val('');$('#modalSetStage').modal('hide');">Set Stage</button> 
               </div>
        </div>
     </div>
    </div>

  
  

  
     <div id="modalNoCanvas" class="modal fade" tabindex="-1" data-width="640" style="display: none;">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
            <h4 class="modal-title">Browser Not Supported</h4>
        </div>
        <div class="modal-body">
           <div class="modal-body">
                This browser doesn't support canvas. Visit <a target='_blank' href='http://www.caniuse.com/#search=canvas'>caniuse.com</a> for supported browsers
     </div>
    </div>


  </body>
</html>
